.include "nominal.jsim" 
.include "stdcell.jsim" 
.include "lab6ctl.jsim"


.subckt ctl reset id[31:26] ra2sel bsel alufn[5:0] wdsel[1:0] werf moe wr
Xctl vdd 0 0 id[31:26] // one read port 
+ pcsel[2:0] wasel asel ra2sel bsel alufn[5:0] wdsel[1:0] werf moe xwr 
+ $memory width=18 nlocations=64 contents=( 
	// the first 24 blanks in the OPCODE TABLE 
	+ 0b000000000000000000 // opcode=0b000000 
	+ 0b000000000000000000 // opcode=0b000001 
	+ 0b000000000000000000 
	+ 0b000000000000000000 
	+ 0b000000000000000000 
	+ 0b000000000000000000 
	+ 0b000000000000000000 
	+ 0b000000000000000000 
	+ 0b000000000000000000 
	+ 0b000000000000000000 
	+ 0b000000000000000000 
	+ 0b000000000000000000 
	+ 0b000000000000000000 
	+ 0b000000000000000000 
	+ 0b000000000000000000 
	+ 0b000000000000000000 
	+ 0b000000000000000000 
	+ 0b000000000000000000 
	+ 0b000000000000000000 
	+ 0b000000000000000000 
	+ 0b000000000000000000 
	+ 0b000000000000000000 
	+ 0b000000000000000000 
	+ 0b000000000000000000 //24th 
	  

	//structure of code:
	//0b pcsel etc etc   
	+ 0b000000100000010110 //LD
	+ 0b000001100000000001 //ST
	+ 0b000000000000000000 //empty
	+ 0b000000000000000000 //JMP
	+ 0b000000000000000000 //empty
	+ 0b000000000000000000 //BEQ
	+ 0b000000000000000000 //BNE
	+ 0b000000000000000000  //LDR

	+ 0b000000000000001100 //ADD
	+ 0b000000000000101100 //SUB 
	+ 0b000000000000000000 //MUL
	+ 0b000000000000000000 //DIV
	+ 0b000000011001101100 //CMPEQ
	+ 0b000000011010101100 //CMPLT
	+ 0b000000011011101100 //CMPLE
	+ 0b000000000000000000 //EMPTY

	+ 0b000000001100001100 //AND
	+ 0b000000001111001100 //OR
	+ 0b000000001011001100 //XOR
	+ 0b000000000000000000 //EMPTY
	+ 0b000000010000001100 //SHL
	+ 0b000000010000101100 //SHR
	+ 0b000000010001101100 //SRA 
	+ 0b000000000000000000 //EMPTY

	+ 0b000000100000001100 //ADDC
	+ 0b000000100000101100 //SUBC
	+ 0b000000000000000000 //MULC
	+ 0b000000000000000000 //DIVC
	+ 0b000000111001101100 //CMPEQC
	+ 0b000000111010101100 //CMPLTC
	+ 0b000000111011101100 //CMPLEC 
	+ 0b000000000000000000 //EMPTY

	+ 0b000000101100001100 //ANDC
	+ 0b000000101111001100 //ORC
	+ 0b000000101011001100 //XORC
	+ 0b000000000000000000 //EMPTY
	+ 0b000000110000001100 //SHLC
	+ 0b000000110000101100 //SHRC
	+ 0b000000110001101100 //SRAC
	+ 0b000000000000000000 //EMPTY 
	+ )
xmux reset xwr 0 wr mux2
.ends